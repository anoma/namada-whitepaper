<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Managing a wallet - Namada Documentation</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../assets/custom.css">
        <link rel="stylesheet" href="../assets/mdbook-admonish.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../quick-start.html"><strong aria-hidden="true">2.</strong> Quickstart</a></li><li class="chapter-item expanded "><a href="../user-guide/index.html"><strong aria-hidden="true">3.</strong> User guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../user-guide/install.html"><strong aria-hidden="true">3.1.</strong> Installing Namada</a></li><li class="chapter-item expanded "><a href="../user-guide/getting-started.html"><strong aria-hidden="true">3.2.</strong> Getting started</a></li><li class="chapter-item expanded "><a href="../user-guide/wallet.html" class="active"><strong aria-hidden="true">3.3.</strong> Managing a wallet</a></li><li class="chapter-item expanded "><a href="../user-guide/ledger.html"><strong aria-hidden="true">3.4.</strong> The Ledger</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../user-guide/ledger/masp.html"><strong aria-hidden="true">3.4.1.</strong> Shielded transfers</a></li><li class="chapter-item expanded "><a href="../user-guide/ledger/pos.html"><strong aria-hidden="true">3.4.2.</strong> Interacting with PoS</a></li><li class="chapter-item expanded "><a href="../user-guide/ledger/governance.html"><strong aria-hidden="true">3.4.3.</strong> Governance</a></li></ol></li><li class="chapter-item expanded "><a href="../user-guide/genesis-validator-setup.html"><strong aria-hidden="true">3.5.</strong> Genesis validator setup</a></li><li class="chapter-item expanded "><a href="../user-guide/genesis-validator-apply.html"><strong aria-hidden="true">3.6.</strong> Applying to be a genesis validator</a></li></ol></li><li class="chapter-item expanded "><a href="../testnets/index.html"><strong aria-hidden="true">4.</strong> Testnets</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../testnets/namada-close-quarters-testnet-1.html"><strong aria-hidden="true">4.1.</strong> Namada Close Quarters Testnet 1</a></li></ol></li><li class="chapter-item expanded "><a href="../namada-trusted-setup.html"><strong aria-hidden="true">5.</strong> Namada Trusted Setup</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Namada Documentation</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/anoma/namada" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/anoma/namada/edit/main/documentation/docs/src/user-guide/wallet.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="namada-wallet-guide"><a class="header" href="#namada-wallet-guide">Namada Wallet Guide</a></h1>
<p>This document describes the different wallet concepts and options that are available to users of Namada who want to be able to <a href="#send-and-receive-nam-tokens">send, receive and interact</a> with NAM tokens on the Namada blockchain.</p>
<!-- I want to either hyperlink or delete the below. I don't understand-->
<p>Check out the different options to generate a wallet:</p>
<ul>
<li><a href="#file-system-wallet">File System Wallet</a></li>
<li><a href="#web-wallet">Web Wallet</a></li>
<li><a href="#paper-wallet">Paper Wallet</a></li>
<li><a href="#hardware-wallet">Hardware Wallet</a></li>
</ul>
<h2 id="an-introduction-to-namada-addresses"><a class="header" href="#an-introduction-to-namada-addresses">An introduction to Namada Addresses</a></h2>
<p>The purpose of the Namada wallet is to provide a user-interface to store and manage both keys and addresses. In this context, keys are (potentially) very large integers that have some meaning on an eliptic curve. Keys are the fundamental building blocks for accounts on Namada. Keys come in the form of <em>pairs</em> (secret and public), can be used to derive the <strong>account address</strong> (first 40 chars of the SHA256 hash of the public key).</p>
<p>All accounts in Namada have a unique address, exactly one Validity Predicate and optionally any additional data in its dynamic storage sub-space.</p>
<p>There are currently 3 types of account addresses:</p>
<ul>
<li><strong>Implicit <em>(not fully supported yet)</em>:</strong> An implicit account is derived from your keypair and can be used to authorize certain transactions from the account. They can be used as recipients of transactions even if the account has not been used on-chain before.</li>
<li><strong>Established:</strong> Used for accounts that allow the deployment of custom validation logic. These must be created on-chain via a transaction (e.g. <a href="#initialize-an-established-account">initialize an account</a>). The address is generated on-chain and is not known until the transaction is applied (the user provides randomness).</li>
<li><strong>Internal:</strong> Special internal accounts, such as protocol parameters account, PoS and IBC.</li>
</ul>
<h2 id="manage-keypairs"><a class="header" href="#manage-keypairs">Manage keypairs</a></h2>
<p>Namada uses <a href="https://en.wikipedia.org/wiki/EdDSA#Ed25519">ed25519</a> keypairs for signing cryptographic operations on the blockchain.</p>
<p>To manage your keys, various sub-commands are available under:</p>
<pre><code class="language-shell">namada wallet key
</code></pre>
<h3 id="generate-a-keypair"><a class="header" href="#generate-a-keypair">Generate a keypair</a></h3>
<p>It is possible to generate keys using the CLI. By doing so, an implicit account address is also derived in the process and added to storage.</p>
<pre><code class="language-shell">namada wallet key gen --alias my-key
</code></pre>
<div id="admonition-note" class="admonition note">
<div class="admonition-title">
<p>Note</p>
<p><a class="admonition-anchor-link" href="#admonition-note"></a></p>
</div>
<div>
<p>The derived implicit address shares the same <code>my-key</code> alias. The previous command has the same effect as <code>namada wallet address gen --alias my-key</code>.</p>
</div>
</div>
<h3 id="list-all-known-keys"><a class="header" href="#list-all-known-keys">List all known keys</a></h3>
<pre><code class="language-shell">namada wallet key list
</code></pre>
<h2 id="manage-addresses"><a class="header" href="#manage-addresses">Manage addresses</a></h2>
<p>To manage addresses, similar to keys, various sub-commands are available:</p>
<pre><code class="language-shell">namada wallet address
</code></pre>
<h3 id="generate-an-implicit-address"><a class="header" href="#generate-an-implicit-address">Generate an implicit address</a></h3>
<pre><code class="language-shell">namada wallet address gen --alias my-account
</code></pre>
<div id="admonition-note-1" class="admonition note">
<div class="admonition-title">
<p>Note</p>
<p><a class="admonition-anchor-link" href="#admonition-note-1"></a></p>
</div>
<div>
<p>Note that this will also generate and save a key from which the address was derived and save it under the same <code>my-account</code> alias. Thus, this command has the same effect as <code>namada wallet key gen --alias my-account</code>.</p>
</div>
</div>
<h3 id="list-all-known-addresses"><a class="header" href="#list-all-known-addresses">List all known addresses</a></h3>
<pre><code class="language-shell">namada wallet address list
</code></pre>
<h2 id="file-system-wallet"><a class="header" href="#file-system-wallet">File System Wallet</a></h2>
<p>By default, the Namada Wallet is stored under <code>.namada/{chain_id}/wallet.toml</code> where keys are stored encrypted. You can change the default base directory path with <code>--base-dir</code> and you can allow the storage of unencrypted keypairs with the flag <code>--unsafe-dont-encrypt</code>.</p>
<p>If the wallet doesn't already exist, it will be created for you as soon as you run a command that tries to access the wallet. A newly created wallet will be pre-loaded with some internal addresses like <code>pos</code>, <code>pos_slash_pool</code>, <code>masp</code> and more.</p>
<p>Currently, the Namada client can load the password via:</p>
<ul>
<li><strong>Stdin:</strong> the client will prompt for a password.</li>
<li><strong>Env variable:</strong> by exporting a ENV variable called <code>ANOMA_WALLET_PASSWORD</code> with value of the actual password.</li>
<li><strong>File:</strong> by exporting an ENV variable called <code>ANOMA_WALLET_PASSWORD_FILE</code> with value containing the path to a file containing the password.</li>
</ul>
<h2 id="web-wallet"><a class="header" href="#web-wallet">Web Wallet</a></h2>
<p>The Web Wallet for Namada is currently in closed beta.</p>
<h2 id="paper-wallet"><a class="header" href="#paper-wallet">Paper Wallet</a></h2>
<p>At the moment, the Namada CLI doesn't provide a Paper Wallet.</p>
<h2 id="hardware-wallet"><a class="header" href="#hardware-wallet">Hardware Wallet</a></h2>
<p>The Ledger Hardware Wallet is currently in development.</p>
<h2 id="send-and-receive-nam-tokens"><a class="header" href="#send-and-receive-nam-tokens">Send and Receive NAM tokens</a></h2>
<p>In Namada, tokens are implemented as accounts with the <a href="https://github.com/anoma/namada/blob/namada/wasm/wasm_source/src/vp_token.rs">Token Validity Predicate</a>. It checks that its total supply is preserved in any transaction that uses this token. Your wallet will be pre-loaded with some token addresses that are initialized in the genesis block.</p>
<h3 id="initialize-an-established-account"><a class="header" href="#initialize-an-established-account">Initialize an established account</a></h3>
<p>If you already have a key in your wallet, you can skip this step. Otherwise, <a href="#generate-a-keypair">generate a new keypair</a> now.</p>
<p>Then, send a transaction to initialize your new established account and save its address with the alias <code>my-new-acc</code>. The <code>my-key</code> public key will be written into the account's storage for authorizing future transactions. We also sign this transaction with <code>my-key</code>.</p>
<pre><code class="language-shell">namada client init-account \
  --alias my-new-acc \
  --public-key my-key \
  --source my-key
</code></pre>
<p>Once this transaction has been applied, the client will automatically see the new address created by the transaction and add it to your Wallet with the chosen alias <code>my-new-acc</code>.</p>
<p>This command uses the prebuilt <a href="https://github.com/anoma/namada/blob/namada/wasm/wasm_source/src/vp_user.rs">User Validity Predicate</a>.</p>
<h3 id="send-a-payment"><a class="header" href="#send-a-payment">Send a Payment</a></h3>
<p>To submit a regular token transfer from your account to the <code>validator-1</code> address:</p>
<pre><code class="language-shell">namada client transfer \
  --source my-new-acc \
  --target validator-1 \
  --token NAM \
  --amount 10
</code></pre>
<p>This command will attempt to find and use the key of the source address to sign the transaction.</p>
<h3 id="see-your-balance"><a class="header" href="#see-your-balance">See your balance</a></h3>
<p>To query token balances for a specific token and/or owner:</p>
<pre><code class="language-shell">namada client balance --token NAM --owner my-new-acc
</code></pre>
<div id="admonition-note-2" class="admonition note">
<div class="admonition-title">
<p>Note</p>
<p><a class="admonition-anchor-link" href="#admonition-note-2"></a></p>
</div>
<div>
<p>For any client command that submits a transaction (<code>init-account</code>, <code>transfer</code>, <code>tx</code>, <code>update</code> and <a href="ledger/pos.html">PoS transactions</a>), you can use the <code>--dry-run</code> flag to simulate the transaction being applied in the block and see what would be the result.</p>
</div>
</div>
<h3 id="see-every-known-addresses-balance"><a class="header" href="#see-every-known-addresses-balance">See every known addresses' balance</a></h3>
<p>You can see the token's addresses known by the client when you query all tokens balances:</p>
<pre><code class="language-shell">namada client balance
</code></pre>
<footer id="open-on-gh">Found a bug? <a href="https://github.com/anoma/namada/edit/main/documentation/docs/src/user-guide/wallet.md">Edit this page on GitHub.</a></footer>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../user-guide/getting-started.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../user-guide/ledger.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../user-guide/getting-started.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../user-guide/ledger.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
